define([],function(){var e={};return e.http=function(e,a,s,t){if("POST"==a.toUpperCase()){var r=[];for(var n in s)r.push(n+"="+s[n])}$.ajax({type:a,dataType:"json",contentType:"application/json",url:e,data:s,complete:function(e){var a=e.responseJSON;switch(e.status){case 200:case 201:case 202:case 203:case 204:console.log(a),a?t(!0,a):t(!1,"null");break;default:if((_.isNull(a.message)||_.isUndefined(a.message))&&a.message.length>0)return alert(a.message),void t(!1,"server error "+e.status);switch(e.status){case 500:alert("服务器错误");break;default:alert("网络连接失败,请检查网络配置!")}t(!1,"server error "+e.status)}}})},e.upload=function(e,a,s){$.ajax({url:e,type:"POST",data:a,async:!1,cache:!1,contentType:!1,processData:!1,success:function(e){var a=e;1==a.code?s(!0):(alert(a.message),s(!1))},error:function(e){alert("上传失败"),s(!1)}})},e});