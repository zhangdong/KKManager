define(["text!templates/backend/userList.html","../models/User","../models/UserCollection"],function(e,t,l){return openbiz.View.extend({app:"mainapp",el:".main",collection:l,events:{},initialize:function(){return openbiz.View.prototype.initialize.call(this),this.collection=new l,this},fetchList:function(){this.collection.fetch({reset:!0})},render:function(){var t=this;this.template=_.template(e),this.$el.html(this.template());var l=new Backgrid.Grid({columns:[{name:"headurl",label:"头像",cell:Backgrid.UriCell.extend({render:function(){this.$el.empty();var e=this.model,l=e.get("headurl");_.isUndefined(l)&&(l="assets/img/a.jpg");var i='<img src="'+l+'" class="img-circle img-header">';return this.$el.html(i),t.delegateEvents(),this}}),editable:!1,sortable:!1},{name:"email",label:"邮箱",cell:"string",sortable:!1,editable:!1},{name:"username",label:"昵称",cell:"string",sortable:!1,editable:!1}],collection:this.collection,emptyText:"暂无数据",className:"table table-hover table-bordered text-center table-condensed"}),i=$("#user");i.append(l.render().el);var n=new PageableCollection.Paginator({windowSize:10,slideScale:.25,goBackFirstOnSort:!1,collection:this.collection});return i.append(n.render().el),this.fetchList(),this}})});