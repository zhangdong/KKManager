define(["./User","../../lib/Tool"],function(t,e){return PageableCollection.extend({model:t,url:openbiz.apps.mainapp.appUrl,state:{pageSize:10,firstPage:0},parseState:function(t,e,a,o){return{totalRecords:t.totalRecords}},fetch:function(t){var a=this,o=1;_.isNaN(parseInt(t.to))||(o=parseInt(t.to)+1);var r={topic:"user/list",payload:{page:parseInt(o),count:10},time:(new Date).getTime()/1e3};e.http(this.url,"POST",JSON.stringify(r),function(t,e){t&&(a.parse({totalRecords:e.total},{}),a.reset(e.data))})}})});